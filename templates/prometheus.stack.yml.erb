version: '3.6'
services:
  prometheus:
    image: prom/prometheus
    deploy:
      replicas: 1
    ports:
      - target: 9090
        published: 9090
        protocol: tcp
        mode: ingress
    volumes:
      - type: bind
        source: /opt/prometheus/promethus.yml
        target: /etc/prometheus/prometheus.yml